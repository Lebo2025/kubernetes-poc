# ${{ values.name | title }} Kubernetes Cluster

Generated cloud-agnostic Kubernetes cluster on **${{ values.cloud_provider | upper }}** in region **${{ values.region }}**.

## Configuration

- **Cloud Provider**: ${{ values.cloud_provider }}
- **Region**: ${{ values.region }}
- **Node Count**: ${{ values.node_count }}
- **Instance Type**: ${{ values.instance_type }}
- **Application Replicas**: ${{ values.app_replicas }}
{% if values.enable_monitoring %}
- **Monitoring**: Enabled (Prometheus + Grafana)
{% endif %}
{% if values.enable_argocd %}
- **GitOps**: Enabled (ArgoCD)
{% endif %}

## Deployment

1. **Deploy Infrastructure**
   ```bash
   cd terraform
   terraform init
   terraform plan
   terraform apply
   ```

2. **Configure kubectl**
   ```bash
   {% if values.cloud_provider == "aws" %}
   aws eks update-kubeconfig --region ${{ values.region }} --name ${{ values.name }}-eks
   {% elif values.cloud_provider == "azure" %}
   az aks get-credentials --resource-group ${{ values.name }}-rg --name ${{ values.name }}-aks
   {% endif %}
   ```

{% if values.enable_argocd %}
3. **Install ArgoCD**
   ```bash
   kubectl create namespace argocd
   kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml
   ```

4. **Deploy Applications**
   ```bash
   kubectl apply -f argocd-apps/app-of-apps.yaml
   ```
{% endif %}

## Access

{% if values.enable_argocd %}
- **ArgoCD UI**: `kubectl port-forward svc/argocd-server -n argocd 8080:443`
{% endif %}
{% if values.enable_monitoring %}
- **Grafana**: `kubectl port-forward svc/grafana -n monitoring 3000:3000`
{% endif %}

Generated by Backstage IDP